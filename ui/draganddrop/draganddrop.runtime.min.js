var uniqueDragAndDropKey;
TW.Runtime.Widgets.draganddrop=function(){var b=this;this.runtimeProperties=function(){return{needsDataLoadingAndError:!1}};this.renderHtml=function(){return'<div class="widget-content widget-draganddrop" style="display:none;"></div>'};this.afterRender=function(){function m(a,b){if(a&&b){a=a.split(" ");var c=b.split(" ");return 0<a.filter(function(a){return-1!==c.indexOf(a)}).length}return!1}function e(a,c,d,e,f,h){var k=m(uniqueDragAndDropKey,l);g&&console.log("DragAndDrop - "+c+" - uniqueDragAndDropKey = "+
uniqueDragAndDropKey+", dropUniqueDragAndDropKey = "+l+", dropAllowed = "+k);k&&(e&&a.preventDefault(),f&&(e=a.dataTransfer.getData("text/plain"),g&&console.log("DragAndDrop - "+c+" - dropValue = "+e),b.setProperty("dropValue",e)),d&&b.jqElement.triggerHandler(d),h&&(uniqueDragAndDropKey=null,a.dataTransfer.clearData()))}var g=b.getProperty("debugMode"),c=b.getProperty("dragParentCustomClass"),d=b.getProperty("dropParentCustomClass"),h=b.getProperty("dragUniqueDragAndDropKey"),l=b.getProperty("dropUniqueDragAndDropKey");
c&&(c=this.jqElement.closest("."+c).get(0),c.setAttribute("draggable","true"),c.ondragstart=function(a){var c=b.getProperty("dragValue");g&&(console.log("DragAndDrop - ondragstart - dragUniqueDragAndDropKey = "+h),console.log("DragAndDrop - ondragstart - dragValue = "+c));uniqueDragAndDropKey=h;a.dataTransfer.setData("text/plain",c);b.jqElement.triggerHandler("OnDragStart")},c.ondrag=function(a){},c.ondragend=function(a){g&&console.log("DragAndDrop - ondragend");b.jqElement.triggerHandler("OnDragEnd");
uniqueDragAndDropKey=null;a.dataTransfer.clearData()});if(d){var f=0;d=this.jqElement.closest("."+d).get(0);d.ondragenter=function(a){f++;e(a,"ondragenter","OnDragEnter",!1,!1,!1)};d.ondragover=function(a){e(a,"ondragover","",!0,!1,!1)};d.ondragleave=function(a){f--;0===f&&e(a,"ondragleave","OnDragLeave",!1,!1,!1)};d.ondrop=function(a){f=0;e(a,"ondrop","OnDrop",!0,!0,!0)}}};this.serviceInvoked=function(b){};this.updateProperty=function(b){-1!=="debugMode dragParentCustomClass dropParentCustomClass dragUniqueDragAndDropKey dropUniqueDragAndDropKey dragValue dropValue".split(" ").indexOf(b.TargetProperty)&&
this.setProperty(b.TargetProperty,b.RawSinglePropertyValue)};this.beforeDestroy=function(){}};